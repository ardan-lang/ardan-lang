# x64

```cpp

#include <cstring>
#include <iostream>
#include <sys/mman.h>

int main() {
    unsigned char code[] = {
        0xB8, 0x03, 0x00, 0x00, 0x00, // mov eax, 3
        0xC3                          // ret
    };

    void* exec = mmap(nullptr, 4096,
                      PROT_READ | PROT_WRITE | PROT_EXEC,
                      MAP_PRIVATE | MAP_ANONYMOUS, -1, 0);

    memcpy(exec, code, sizeof(code));

    int (*func)() = (int (*)())exec;
    std::cout << func() << std::endl;  // prints 3

    munmap(exec, 4096);
}

```
